<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<meta name="description" content="index page to the JGiven documentation">
<meta name="keywords" content="JGiven, Java, BDD, TDD, Behavior-Driven Testing, Specification by Example">
<meta name="author" content="Jan Schäfer">
<title>JGiven User Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>JGiven User Guide</h1>
<div class="details">
<span id="author" class="author">Jan Schäfer</span><br>
<span id="revnumber">version 0.17.1</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_module_overview">1.1. Module Overview</a></li>
</ul>
</li>
<li><a href="#_installation">2. Installation</a>
<ul class="sectlevel2">
<li><a href="#_junit">2.1. JUnit</a></li>
<li><a href="#_testng">2.2. TestNG</a></li>
<li><a href="#_java_compiler_note">2.3. Java Compiler Note</a></li>
</ul>
</li>
<li><a href="#_getting_started">3. Getting Started</a>
<ul class="sectlevel2">
<li><a href="#_create_a_junit_test_class">3.1. Create a JUnit test class</a></li>
<li><a href="#_create_given_when_and_then_classes">3.2. Create Given, When, and Then classes</a></li>
<li><a href="#_write_your_first_scenario">3.3. Write your first scenario</a></li>
<li><a href="#_execute_your_scenario">3.4. Execute your scenario</a></li>
<li><a href="#_using_junit_rules_directly_instead_of_deriving_from_scenariotest">3.5. Using JUnit Rules directly instead of deriving from ScenarioTest</a></li>
</ul>
</li>
<li><a href="#_report_generation">4. Report Generation</a>
<ul class="sectlevel2">
<li><a href="#_plain_text_reports">4.1. Plain Text Reports</a></li>
<li><a href="#_json_reports">4.2. JSON Reports</a></li>
<li><a href="#_html_report">4.3. HTML Report</a></li>
</ul>
</li>
<li><a href="#_stages_and_state_sharing">5. Stages and State Sharing</a>
<ul class="sectlevel2">
<li><a href="#_step_methods">5.1. Step Methods</a></li>
<li><a href="#_overriding_the_default_reporting">5.2. Overriding the Default Reporting</a></li>
<li><a href="#_completely_hide_steps">5.3. Completely Hide Steps</a></li>
<li><a href="#_extended_descriptions">5.4. Extended Descriptions</a></li>
<li><a href="#_intro_words">5.5. Intro Words</a></li>
<li><a href="#_state_sharing">5.6. State Sharing</a></li>
<li><a href="#_having_more_than_3_stages">5.7. Having More Than 3 Stages</a></li>
<li><a href="#_subclassing_of_stages">5.8. Subclassing of Stages</a></li>
</ul>
</li>
<li><a href="#_life_cycle_methods">6. Life-Cycle Methods</a>
<ul class="sectlevel2">
<li><a href="#_scenario_life_cycle">6.1. Scenario Life-Cycle</a></li>
<li><a href="#__beforescenario_afterscenario">6.2. @BeforeScenario / @AfterScenario</a></li>
<li><a href="#__scenariorule">6.3. @ScenarioRule</a></li>
<li><a href="#__beforestage_afterstage">6.4. @BeforeStage / @AfterStage</a></li>
</ul>
</li>
<li><a href="#_parameterized_steps">7. Parameterized Steps</a>
<ul class="sectlevel2">
<li><a href="#_parameters_within_a_sentence">7.1. Parameters within a sentence</a></li>
<li><a href="#_custom_annotations">7.2. Custom Annotations</a></li>
<li><a href="#_extended_description">7.3. Extended Description</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JGiven is a light-weight Java library that helps you to design a high-level, domain-specific language for writing BDD scenarios.
In the spirit of Unix tools, it tries to do one thing and do it well, instead of trying to solve all problems.
Thus, you still use your favorite assertion library and mocking library for
writing your test implementations, but you use JGiven to write a readable abstraction layer on top of it.</p>
</div>
<div class="sect2">
<h3 id="_module_overview"><a class="anchor" href="#_module_overview"></a>1.1. Module Overview</h3>
<div class="paragraph">
<p>JGiven consists of a couple of modules.</p>
</div>
<div class="sect3">
<h4 id="_jgiven_core"><a class="anchor" href="#_jgiven_core"></a>1.1.1. JGiven Core</h4>
<div class="paragraph">
<p>The JGiven Core module contains the core implementation of JGiven and is always required.</p>
</div>
</div>
<div class="sect3">
<h4 id="_jgiven_junit"><a class="anchor" href="#_jgiven_junit"></a>1.1.2. JGiven JUnit</h4>
<div class="paragraph">
<p>This module provides an integration into JUnit 4.x.
If your test-runner of choice is JUnit then you use this module.</p>
</div>
</div>
<div class="sect3">
<h4 id="_jgiven_testng"><a class="anchor" href="#_jgiven_testng"></a>1.1.3. JGiven TestNG</h4>
<div class="paragraph">
<p>Provides an integration into TestNG</p>
</div>
</div>
<div class="sect3">
<h4 id="_jgiven_html5_report"><a class="anchor" href="#_jgiven_html5_report"></a>1.1.4. JGiven HTML5 Report</h4>
<div class="paragraph">
<p>Allows you to generate an HTML5 report from the JSON files
that JGiven generates during the test execution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_jgiven_spring"><a class="anchor" href="#_jgiven_spring"></a>1.1.5. JGiven Spring</h4>
<div class="paragraph">
<p>Provides an integration into the Spring framework, which basically means that
stages classes can be treated as Spring beans.</p>
</div>
</div>
<div class="sect3">
<h4 id="_jgiven_android"><a class="anchor" href="#_jgiven_android"></a>1.1.6. JGiven Android</h4>
<div class="paragraph">
<p>Provides support for executing JGiven tests on an Android device or emulator.
This is currently in an experimental status.</p>
</div>
</div>
<div class="sect3">
<h4 id="_jgiven_junit_5"><a class="anchor" href="#_jgiven_junit_5"></a>1.1.7. JGiven JUnit 5</h4>
<div class="paragraph">
<p>This module provides an integration into JUnit 5.x.
This is currently in an experimental status.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation"><a class="anchor" href="#_installation"></a>2. Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JGiven is installed as any other Java library by putting its JAR file(s) into the classpath.
Normally you will do that by using one of your favorite build and dependency management
tools like Maven, Gradle, or Apache Ant + Ivy.
Alternatively you can download the JAR files directly from
<a href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.tngtech.jgiven%22">Maven Central</a>.</p>
</div>
<div class="paragraph">
<p>Depending on whether you are using JUnit or TestNG for executing tests, you have
to use different dependencies.</p>
</div>
<div class="sect2">
<h3 id="_junit"><a class="anchor" href="#_junit"></a>2.1. JUnit</h3>
<div class="paragraph">
<p>If you are using JUnit, you must depend on the <code>jgiven-junit</code> artifact.
Note that <code>jgiven-junit</code> does not directly depend on JUnit,
thus you also must have a dependency to JUnit itself.
JGiven requires at least JUnit 4.9, while the recommended version is 4.12.</p>
</div>
<div class="sect3">
<h4 id="_maven_dependency"><a class="anchor" href="#_maven_dependency"></a>2.1.1. Maven Dependency</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="maven">&lt;dependency&gt;
   &lt;groupId&gt;com.tngtech.jgiven&lt;/groupId&gt;
   &lt;artifactId&gt;jgiven-junit&lt;/artifactId&gt;
   &lt;version&gt;0.17.1&lt;/version&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_gradle_dependency"><a class="anchor" href="#_gradle_dependency"></a>2.1.2. Gradle Dependency</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="gradle">dependencies {
   testCompile 'com.tngtech.jgiven:jgiven-junit:0.17.1'
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_testng"><a class="anchor" href="#_testng"></a>2.2. TestNG</h3>
<div class="paragraph">
<p>If you are using TestNG, you must depend on the <code>jgiven-testng</code> artifact.
Note that <code>jgiven-testng</code> does not directly depend on TestNG,
thus you also must have a dependency to TestNG itself.</p>
</div>
<div class="sect3">
<h4 id="_maven_dependency_2"><a class="anchor" href="#_maven_dependency_2"></a>2.2.1. Maven Dependency</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="maven">&lt;dependency&gt;
   &lt;groupId&gt;com.tngtech.jgiven&lt;/groupId&gt;
   &lt;artifactId&gt;jgiven-testng&lt;/artifactId&gt;
   &lt;version&gt;0.17.1&lt;/version&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_gradle_dependency_2"><a class="anchor" href="#_gradle_dependency_2"></a>2.2.2. Gradle Dependency</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="gradle">dependencies {
   testCompile 'com.tngtech.jgiven:jgiven-testng:0.17.1'
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_java_compiler_note"><a class="anchor" href="#_java_compiler_note"></a>2.3. Java Compiler Note</h3>
<div class="paragraph">
<p>Note that you should compile your test classes with all debugging information (javac -g). Otherwise JGiven cannot obtain the parameter names of step methods and will generate names of the form argX instead.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started"><a class="anchor" href="#_getting_started"></a>3. Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JGiven can be used together with JUnit or TestNG, here we assume you are using JUnit.</p>
</div>
<div class="sect2">
<h3 id="_create_a_junit_test_class"><a class="anchor" href="#_create_a_junit_test_class"></a>3.1. Create a JUnit test class</h3>
<div class="paragraph">
<p>First of all you create a JUnit test class that inherits from <code>com.tngtech.jgiven.junit.ScenarioTest</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="keyword">import</span> <span class="include">com.tngtech.jgiven.junit.ScenarioTest</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyShinyJGivenTest</span>
        <span class="directive">extends</span> ScenarioTest&lt;GivenSomeState, WhenSomeAction, ThenSomeOutcome&gt; {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>ScenarioTest</code> requires 3 type parameters. Each of these type parameters represents a stage of the Given-When-Then notation. Note that there is also the <code>SimpleScenarioTest</code> class that only requires a single type parameter. In that case, all your scenario steps are defined in a single class.</p>
</div>
</div>
<div class="sect2">
<h3 id="_create_given_when_and_then_classes"><a class="anchor" href="#_create_given_when_and_then_classes"></a>3.2. Create Given, When, and Then classes</h3>
<div class="paragraph">
<p>To make your class compile, create the following three classes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="keyword">import</span> <span class="include">com.tngtech.jgiven.Stage</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">GivenSomeState</span> <span class="directive">extends</span> Stage&lt;GivenSomeState&gt; {
    <span class="directive">public</span> GivenSomeState some_state() {
        <span class="keyword">return</span> self();
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="keyword">import</span> <span class="include">com.tngtech.jgiven.Stage</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">WhenSomeAction</span> <span class="directive">extends</span> Stage&lt;WhenSomeAction&gt; {
    <span class="directive">public</span> WhenSomeAction some_action() {
        <span class="keyword">return</span> self();
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="keyword">import</span> <span class="include">com.tngtech.jgiven.Stage</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">ThenSomeOutcome</span> <span class="directive">extends</span> Stage&lt;ThenSomeOutcome&gt; {
    <span class="directive">public</span> ThenSomeOutcome some_outcome() {
        <span class="keyword">return</span> self();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>JGiven does not require you to inherit from the Stage class, however, the Stage class already provides some useful methods like and() and self().</p>
</div>
</div>
<div class="sect2">
<h3 id="_write_your_first_scenario"><a class="anchor" href="#_write_your_first_scenario"></a>3.3. Write your first scenario</h3>
<div class="paragraph">
<p>Now you can write your first scenario</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">com.tngtech.jgiven.junit.ScenarioTest</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyShinyJGivenTest</span>
        <span class="directive">extends</span> ScenarioTest&lt;GivenSomeState, WhenSomeAction, ThenSomeOutcome&gt; {

    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> something_should_happen() {
        given().some_state();
        when().some_action();
        then().some_outcome();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_execute_your_scenario"><a class="anchor" href="#_execute_your_scenario"></a>3.4. Execute your scenario</h3>
<div class="paragraph">
<p>The scenario is then executed like any other JUnit test, for example, by using your IDE or Maven:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="bash">$ mvn test</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_junit_rules_directly_instead_of_deriving_from_scenariotest"><a class="anchor" href="#_using_junit_rules_directly_instead_of_deriving_from_scenariotest"></a>3.5. Using JUnit Rules directly instead of deriving from ScenarioTest</h3>
<div class="paragraph">
<p>Sometimes it is not possible to derive your test class from the <code>ScenarioTest</code> class, because you might already have a common base class that you cannot easily modify.
In that case you can directly use the JUnit Rules of JGiven. Instead of providing your stage classes as type parameters, you inject the stages into the test class with the <code>@ScenarioStage</code> annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">UsingRulesTest</span> {

    <span class="annotation">@ClassRule</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> JGivenClassRule writerRule = <span class="keyword">new</span> JGivenClassRule();

    <span class="annotation">@Rule</span>
    <span class="directive">public</span> <span class="directive">final</span> JGivenMethodRule scenarioRule = <span class="keyword">new</span> JGivenMethodRule();

    <span class="annotation">@ScenarioStage</span>
    GivenSomeState someState;

    <span class="annotation">@ScenarioStage</span>
    WhenSomeAction someAction;

    <span class="annotation">@ScenarioStage</span>
    ThenSomeOutcome someOutcome;

    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> something_should_happen() {
        someState.given().some_state();
        someAction.when().some_action();
        someOutcome.then().some_outcome();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that your stage classes have to inherit from the <code>Stage</code> class in order to have the <code>given(), when()</code>, and <code>then()</code> methods.
You can now also define convenient methods in your test class to get cleaner scenarios if you like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> GivenSomeState given() {
    <span class="keyword">return</span> someStage.given();
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_report_generation"><a class="anchor" href="#_report_generation"></a>4. Report Generation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_plain_text_reports"><a class="anchor" href="#_plain_text_reports"></a>4.1. Plain Text Reports</h3>
<div class="paragraph">
<p>By default JGiven outputs plain text reports to the console when executed. To disable plain text reports set the following Java system property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">jgiven.report.text=<span class="predefined-constant">false</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_json_reports"><a class="anchor" href="#_json_reports"></a>4.2. JSON Reports</h3>
<div class="paragraph">
<p>By default JGiven will generate JSON reports into the <code>jgiven-reports/json</code> directory. JGiven tries to autodetect when it is executed by the Maven surefire plugin and in that case generates the reports into <code>target/jgiven-reports/json</code>. To disable JSON report generation set the following Java system property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">jgiven.report.enabled=<span class="predefined-constant">false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that in order to generate HTML reports, JSON reports are required.</p>
</div>
<div class="sect3">
<h4 id="_change_report_directory"><a class="anchor" href="#_change_report_directory"></a>4.2.1. Change report directory</h4>
<div class="paragraph">
<p>If you want to change the <code>jgiven-reports/json</code> directory, respectively <code>target/jgiven-reports/json</code>, set the following Java system property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">jgiven.report.dir=&lt;targetDir&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If JGiven is executed by the Maven surefire plugin, this can be done by the systemPropertyVariables configuration (see: <a href="http://maven.apache.org/surefire/maven-surefire-plugin/examples/system-properties.html" class="bare">http://maven.apache.org/surefire/maven-surefire-plugin/examples/system-properties.html</a>).</p>
</div>
<div class="paragraph">
<p>Note: In case HTML Reports are being generated, the source directory for the JSON Reports needs to be set accordingly (see "HTML Report" for more).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_html_report"><a class="anchor" href="#_html_report"></a>4.3. HTML Report</h3>
<div class="paragraph">
<p>To generate an HTML report you have to run the JGiven report generator
with the <code>html</code> format option.
The reporter is part of the <code>jgiven-html5-report</code> module.
The report generator can be executed on the command line as
follows (assuming that the <code>jgiven-core</code> and the <code>jgiven-html5-report</code> JAR
and all required dependencies are on the Java CLASSPATH)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="bash">java com.tngtech.jgiven.report.ReportGenerator \
  --format=html \
  [--sourceDir=&lt;jsonreports&gt;] \
  [--targetDir=&lt;targetDir&gt;] \</code></pre>
</div>
</div>
<div class="paragraph">
<p>To see the HTML report in action you can have a look at the
<a href="http://jgiven.org/jgiven-report/html5/">HTML report of JGiven itself</a></p>
</div>
<div class="sect3">
<h4 id="_maven"><a class="anchor" href="#_maven"></a>4.3.1. Maven</h4>
<div class="paragraph">
<p>For Maven there exists a plugin that can be used as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="xml"><span class="tag">&lt;build&gt;</span>
  <span class="tag">&lt;plugins&gt;</span>
    <span class="tag">&lt;plugin&gt;</span>
      <span class="tag">&lt;groupId&gt;</span>com.tngtech.jgiven<span class="tag">&lt;/groupId&gt;</span>
      <span class="tag">&lt;artifactId&gt;</span>jgiven-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
      <span class="tag">&lt;version&gt;</span>0.17.1<span class="tag">&lt;/version&gt;</span>
      <span class="tag">&lt;executions&gt;</span>
        <span class="tag">&lt;execution&gt;</span>
          <span class="tag">&lt;goals&gt;</span>
            <span class="tag">&lt;goal&gt;</span>report<span class="tag">&lt;/goal&gt;</span>
          <span class="tag">&lt;/goals&gt;</span>
        <span class="tag">&lt;/execution&gt;</span>
      <span class="tag">&lt;/executions&gt;</span>
      <span class="tag">&lt;configuration&gt;</span>
        <span class="tag">&lt;format&gt;</span>html<span class="tag">&lt;/format&gt;</span>
      <span class="tag">&lt;/configuration&gt;</span>
    <span class="tag">&lt;/plugin&gt;</span>
 <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can add the following configuration options (like the <em>format</em> configuration above) to customize the report.
All of them are optional.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Configuration Options for Reports</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The format of the generated report. Can be <em>html</em> or <em>text</em>. Default: <em>html</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The title of the generated report. Default: <em>JGiven Report</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">customCssFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom CSS file to customize the HTML report. Default: <em>src/test/resources/jgiven/custom.css</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">customJsFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom JS file to customize the HTML report. Default: <em>src/test/resources/jgiven/custom.js</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">excludeEmptyScenarios</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether or not to exclude empty scenarios, i.e. scenarios without any steps, from the report. Default: <em>false</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputDirectory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory where the reports are generated to. Default: <em>${project.build.directory}/jgiven-reports/html</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceDirectory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory to read the JSON report files from. Default: <em>${project.build.directory}/jgiven-reports/json</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Now run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="bash">$ mvn verify</code></pre>
</div>
</div>
<div class="paragraph">
<p>HTML reports are then generated into the <code>target/jgiven-reports/html</code> directory.</p>
</div>
</div>
<div class="sect3">
<h4 id="_gradle"><a class="anchor" href="#_gradle"></a>4.3.2. Gradle</h4>
<div class="paragraph">
<p>There also exists a plugin for Gradle to make you life easier.
Add the following plugins section to your <code>build.gradle</code> file or extend the one you have already accordingly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="gradle">plugins {
    id &quot;com.tngtech.jgiven.gradle-plugin&quot; version &quot;0.17.1&quot;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively you can configure the plugin as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="gradle">buildscript {
    repositories {
        mavenCentral()
    }

    dependencies {
        classpath &quot;com.tngtech.jgiven:jgiven-gradle-plugin:0.17.1&quot;
    }
}

apply plugin: &quot;com.tngtech.jgiven.gradle-plugin&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="bash">$ gradle test jgivenTestReport</code></pre>
</div>
</div>
<div class="paragraph">
<p>HTML reports are then generated into the <code>build/reports/jgiven/test/html/</code> directory.</p>
</div>
<div class="paragraph">
<p>If you want that the HTML report is always generated after the tests
have been executed, you can configure the <code>test</code> task in your Gradle
configuration file as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="gradle">test.finalizedBy jgivenTestReport</code></pre>
</div>
</div>
<div class="paragraph">
<p>For additional information about the Gradle plugin refer to
<a href="https://plugins.gradle.org/plugin/com.tngtech.jgiven.gradle-plugin" class="bare">https://plugins.gradle.org/plugin/com.tngtech.jgiven.gradle-plugin</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stages_and_state_sharing"><a class="anchor" href="#_stages_and_state_sharing"></a>5. Stages and State Sharing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A JGiven scenario consists of multiple stages. Typically there is a stage for each phase of a scenario: a given stage, a when stage and a then stage, however, it is also possible to just use one stage or use arbitrary many stages. A stage is implemented by a stage class that contains methods representing the steps that can be used in the scenario. The big advantage of this modular concept is that stages can be easily reused by different scenarios.</p>
</div>
<div class="sect2">
<h3 id="_step_methods"><a class="anchor" href="#_step_methods"></a>5.1. Step Methods</h3>
<div class="paragraph">
<p>A stage class contains multiple step methods that can be called in a scenario and that will appear in the report. Every non-private, non-final, non-static method of a stage class can be used as a step method. There are no further requirements. In particular, no annotations are needed. Step methods should return the this reference so that chaining of calls is possible. In addition, a step method should be written in snake_case so that JGiven knows the correct casing of each word of the step.</p>
</div>
<div class="paragraph">
<p>The following code shows a valid step method of the <code>WhenCook</code> stage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> WhenCook the_cook_mangles_everthing_to_a_dough() {
    assertThat( cook ).isNotNull();
    assertThat( ingredients ).isNotNull();

    dough = cook.makeADough( ingredients );
    <span class="keyword">return</span> <span class="local-variable">this</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>JGiven removes the underlines so the step will appear as <em>the cook mangles everything to a dough</em> in the report.</p>
</div>
</div>
<div class="sect2">
<h3 id="_overriding_the_default_reporting"><a class="anchor" href="#_overriding_the_default_reporting"></a>5.2. Overriding the Default Reporting</h3>
<div class="paragraph">
<p>Sometimes it is necessary to override the default way of the step reporting. For example, if you want to use special characters that are not allowed in Java methods names, such as <code>(</code>, <code>+</code>, or <code>%</code>. You can then use the <code>@As</code> annotation to specify what JGiven should put into the report.</p>
</div>
<div class="paragraph">
<p>For example, if you define the following step method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@As</span>( <span class="string"><span class="delimiter">&quot;</span><span class="content">$ % are added</span><span class="delimiter">&quot;</span></span> )
<span class="directive">public</span> WhenCalculator <span class="error">$</span>_percent_are_added( <span class="type">int</span> percent ) {
    <span class="keyword">return</span> self();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The step will appear as <code>10 % are added</code> in the report, when invoked with <code>10</code>.</p>
</div>
<div class="paragraph">
<p>If you need full control over the step text you can inject the <code>CurrentStep</code> interface into the stage by using the <code>@ScenarioState</code> annotation. You can then use the <code>setName</code> method to change the steps text.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@ScenarioState</span>
CurrentStep currentStep;

<span class="directive">public</span> WhenCalculator <span class="error">$</span>_percent_are_added( <span class="type">int</span> percent ) {
    currentStep.setName( percent + <span class="string"><span class="delimiter">&quot;</span><span class="content"> percent are added</span><span class="delimiter">&quot;</span></span> );
    <span class="keyword">return</span> self();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_completely_hide_steps"><a class="anchor" href="#_completely_hide_steps"></a>5.3. Completely Hide Steps</h3>
<div class="paragraph">
<p>Steps can be completely hidden from the report by using the <a href="http://jgiven.org/javadoc/com/tngtech/jgiven/annotation/Hidden.html"><code>@Hidden</code></a> annotation. This is sometimes useful if you need a technical method call within a scenario, which should not appear in the report.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@Hidden</span>
<span class="directive">public</span> <span class="type">void</span> prepareRocketSimulator() {
    rocketSimulator = createRocketSimulator();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that it is useful to write hidden methods in <code>CamelCase</code> to make it immediately visible in the scenario that these methods will not appear in the report.</p>
</div>
<div class="sect3">
<h4 id="_method_parameters"><a class="anchor" href="#_method_parameters"></a>5.3.1. Method Parameters</h4>
<div class="paragraph">
<p>The <a href="http://jgiven.org/javadoc/com/tngtech/jgiven/annotation/Hidden.html"><code>@Hidden</code></a> annotation is also applicable for method parameters that shall not appear in the report.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> setup_rocket(<span class="annotation">@Hidden</span> <span class="predefined-type">String</span> rocketName, <span class="annotation">@Hidden</span> <span class="predefined-type">String</span> rocketDescription) {
    <span class="local-variable">this</span>.rocketName = rocketName;
    <span class="local-variable">this</span>.rocketDescription = rocketDescription;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_extended_descriptions"><a class="anchor" href="#_extended_descriptions"></a>5.4. Extended Descriptions</h3>
<div class="paragraph">
<p>Steps can get an extended description with the <a href="http://jgiven.org/javadoc/com/tngtech/jgiven/annotation/ExtendedDescription.html"><code>@ExtendedDescription</code></a> annotation. You can use this to give additional information about the step to the reader of the report. In the HTML report this information is shown in a tooltip.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@ExtendedDescription</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Actually uses a rocket simulator</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> RocketMethods launch_rocket() {
    rocketLaunched = rocketSimulator.launchRocket();
    <span class="keyword">return</span> <span class="local-variable">this</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_intro_words"><a class="anchor" href="#_intro_words"></a>5.5. Intro Words</h3>
<div class="paragraph">
<p>If the predefined introductionary words in the <a href="http://jgiven.org/javadoc/com/tngtech/jgiven/Stage.html"><code>Stage</code></a> class are not enough for you and you want to define additional ones you can use the <a href="http://jgiven.org/javadoc/com/tngtech/jgiven/annotation/IntroWord.html"><code>@IntroWord</code></a> annotation on a step method.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@IntroWord</span>
<span class="directive">public</span> SELF however() {
   <span class="keyword">return</span> self();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that you can combine <code>@IntroWord</code> with the <code>@As</code> annotation. To define a <code>,</code> as an introductionary word, for example, you can define:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@IntroWord</span>
<span class="annotation">@As</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">,</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> SELF comma() {
   <span class="keyword">return</span> self();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_state_sharing"><a class="anchor" href="#_state_sharing"></a>5.6. State Sharing</h3>
<div class="paragraph">
<p>Very often it is necessary to share state between steps.
As long as the steps are implemented in the same Stage class you can just use the fields of the Stage class.
But what can you do if your steps are defined in different Stage classes?
In this case you just define the same field in both Stage classes.
Once in the Stage class that <em>provides</em> the value of the field and once in the Stage class that <em>needs</em> the value
of the field.
Both fields also have to be annotated with the special annotation <code>@ScenarioState</code> to tell JGiven that
this field will be used for state sharing between stages.
The values of these fields are shared between all stages that have the same field.
For example, to be able to access the value of the ingredients field of the GivenIngredients stage in the <code>WhenCook</code> stage one has to annotate that field accordingly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.tngtech.jgiven.examples.pancakes.test.steps</span>;

<span class="keyword">import</span> <span class="include">java.util.ArrayList</span>;
<span class="keyword">import</span> <span class="include">java.util.List</span>;

<span class="keyword">import</span> <span class="include">com.tngtech.jgiven.Stage</span>;
<span class="keyword">import</span> <span class="include">com.tngtech.jgiven.annotation.ProvidedScenarioState</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">GivenIngredients</span> <span class="directive">extends</span> Stage&lt;GivenIngredients&gt; {

    <span class="annotation">@ProvidedScenarioState</span>
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; ingredients = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;<span class="predefined-type">String</span>&gt;();

    <span class="directive">public</span> GivenIngredients an_egg() {
        <span class="keyword">return</span> the_ingredient( <span class="string"><span class="delimiter">&quot;</span><span class="content">egg</span><span class="delimiter">&quot;</span></span> );
    }

    <span class="directive">public</span> GivenIngredients the_ingredient( <span class="predefined-type">String</span> ingredient ) {
        ingredients.add( ingredient );
        <span class="keyword">return</span> <span class="local-variable">this</span>;
    }

    <span class="directive">public</span> GivenIngredients some_milk() {
        <span class="keyword">return</span> the_ingredient( <span class="string"><span class="delimiter">&quot;</span><span class="content">milk</span><span class="delimiter">&quot;</span></span> );
    }

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@JGivenStage</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">WhenCook</span> <span class="directive">extends</span> Stage&lt;WhenCook&gt; {
    <span class="annotation">@Autowired</span>
    <span class="annotation">@ScenarioState</span>
    Cook cook;

    <span class="annotation">@ExpectedScenarioState</span>
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; ingredients;

    <span class="annotation">@ProvidedScenarioState</span>
    <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; dough;

    <span class="annotation">@ProvidedScenarioState</span>
    <span class="predefined-type">String</span> meal;

    <span class="directive">public</span> WhenCook the_cook_fries_the_dough_in_a_pan() {
        assertThat( cook ).isNotNull();
        assertThat( dough ).isNotNull();

        meal = cook.fryDoughInAPan( dough );
        <span class="keyword">return</span> <span class="local-variable">this</span>;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Instead of the <code>@ScenarioState</code> annotation one can also use <code>@ExpectedScenarioState</code> and <code>@ProvidedScenarioState</code> to indicate whether the state is expected by the stage or provided by the stage.
These function in exactly the same way as <code>@ScenarioState</code> but are more descriptive about what the code is doing.</p>
</div>
<div class="sect3">
<h4 id="_type_vs_name_resolution"><a class="anchor" href="#_type_vs_name_resolution"></a>5.6.1. Type vs. Name Resolution</h4>
<div class="paragraph">
<p>Scenario state fields are by default resolved by its type.
That is, you can only have one field of the same type as a scenario field.
Exceptions are types from the packages <code>java.lang.*</code> and <code>java.util.*</code> which are resolved by the name of the field.</p>
</div>
<div class="paragraph">
<p>To change the resolution strategy you can use the <code>resolution</code> parameter of the <code>@ScenarioState</code> annotations. For example, to use name instead of type resolution you can write</p>
</div>
<div class="paragraph">
<p><code>@ScenarioState(resolution = Resolution.NAME)</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_value_validation"><a class="anchor" href="#_value_validation"></a>5.6.2. Value Validation</h4>
<div class="paragraph">
<p>By default, JGiven will not validate whether the value of a field of a stage that expects a value,
was actually provided by a previous stage.
The reason for this is that typically not all fields are always required for all steps.
There might be scenarios where only a part of the fields are really necessary for the steps of the scenario.
However, sometimes you know that a certain field value is needed for <strong>all</strong> steps of a stage.
In this case you can set the <code>required</code> attribute of the <code>@ScenarioState</code> or <code>@ExpectedScenarioState</code> annotation to <code>true</code>.
JGiven will then validate that a previous stage had provided the value and will throw an exception otherwise.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_having_more_than_3_stages"><a class="anchor" href="#_having_more_than_3_stages"></a>5.7. Having More Than 3 Stages</h3>
<div class="paragraph">
<p>In many cases three stages are typically enough to write a scenario. However, sometimes more than three are required. JGiven provides two mechanism for that: stage injection and dynamic adding of stages.</p>
</div>
<div class="sect3">
<h4 id="_stage_injection"><a class="anchor" href="#_stage_injection"></a>5.7.1. Stage Injection</h4>
<div class="paragraph">
<p>Additional stages can be injected into a test class by declaring a field with the additional stage and annotate it with <code>@ScenarioStage</code>.</p>
</div>
<div class="sect4">
<h5 id="_example"><a class="anchor" href="#_example"></a>Example</h5>
<div class="paragraph">
<p>In the following example we inject an additional stage <code>GivenAdditionalState</code> into the test class and use it in the test.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MyInjectedJGivenTest</span> <span class="directive">extends</span>
   ScenarioTest&lt;GivenSomeState, WhenSomeAction, ThenSomeOutcome&gt; {

   <span class="annotation">@ScenarioStage</span>
   GivenAdditionalState additionalState;

   <span class="annotation">@Test</span>
   <span class="directive">public</span> <span class="type">void</span> something_should_happen() {
      given().some_state();

      additionalState
         .and().some_additional_state();

      when().some_action();
      then().some_outcome();
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the field access will not be visible in the report. Thus the resulting report will look as follows:</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Scenario: something should happen</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">Given some state
  And some additional state
 When some action
 Then some outcome</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Also note that you should not forget to first invoke an intro method, like <code>and()</code> or <code>given()</code> on the injected stage before calling the step method.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_dynamic_adding_of_stages"><a class="anchor" href="#_dynamic_adding_of_stages"></a>5.7.2. Dynamic Adding of Stages</h4>
<div class="paragraph">
<p>The disadvantage of injecting a stage into a test class is that this stage will be used for all tests of that class. This might result in an overhead if the stage contains <code>@BeforeScenario</code> or <code>@AfterScenario</code> methods, because these methods will also be executed in the injected stages. If an additional stage is only required for a single test method you should instead dynamically add that stage to the scenario by using the <code>addStage</code> method.</p>
</div>
<div class="sect4">
<h5 id="_example_2"><a class="anchor" href="#_example_2"></a>Example</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">com.tngtech.jgiven.junit.ScenarioTest</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyDynamicallyAddedTest</span> <span class="directive">extends</span>
   ScenarioTest&lt;GivenSomeState, WhenSomeAction, ThenSomeOutcome&gt; {

   <span class="annotation">@Test</span>
   <span class="directive">public</span> <span class="type">void</span> something_should_happen() {
      GivenAdditionalState additionalState = addStage(GivenAdditionalState.class);

      given().some_state();

      additionalState
         .and().some_additional_state();

      when().some_action();
      then().some_outcome();
   }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_subclassing_of_stages"><a class="anchor" href="#_subclassing_of_stages"></a>5.8. Subclassing of Stages</h3>
<div class="paragraph">
<p>In practice, it often makes sense to have a hierarchy of stage classes. Your top stage class can implement common steps that you require very often, while subclasses implement more specialized steps.</p>
</div>
<div class="paragraph">
<p>One problem with subclassing stage classes is to keep the fluent interface intact. Let’s have an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">GivenCommonSteps</span> <span class="directive">extends</span> Stage&lt;GivenCommonSteps&gt; {
    <span class="directive">public</span> GivenCommonSteps my_common_step() {
        <span class="keyword">return</span> <span class="local-variable">this</span>;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now assume that we create a subclass of <code>GivenCommonSteps</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">GivenSpecialSteps</span> <span class="directive">extends</span> GivenCommonSteps {
    <span class="directive">public</span> GivenSpecialSteps my_special_step() {
        <span class="keyword">return</span> <span class="local-variable">this</span>;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you now want to use the <code>GivenSpecialSteps</code> stage, you will get problems when you want to chain multiple step methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@Test</span>
<span class="directive">public</span> <span class="type">void</span> subclassing_of_stages_should_work() {
    given().my_common_step()
      .and().cant_do_this();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This code will not compile, because <code>my_common_step()</code> returns <code>GivenCommonSteps</code> and not <code>GivenSpecialSteps</code>.</p>
</div>
<div class="paragraph">
<p>Luckily this problem can be fixed with generic types. First you have to change the <code>GivenCommonSteps</code> class as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">GivenCommonStepsFixed</span>&lt;SELF <span class="directive">extends</span> GivenCommonStepsFixed&lt;SELF&gt;&gt; <span class="directive">extends</span> Stage&lt;SELF&gt; {
    <span class="directive">public</span> SELF my_common_step() {
        <span class="keyword">return</span> self();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>That is, you give <code>GivenCommonSteps</code> a type parameter <code>SELF</code> that can be specialized by subclasses. This type is also used as return type for <code>my_common_step()</code>. Instead of returning <code>this</code> you return <code>self()</code>, which is implemented in the <code>Stage</code> class.</p>
</div>
<div class="paragraph">
<p>Now your subclass must be change as well:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">GivenSpecialStepsFixed</span>&lt;SELF <span class="directive">extends</span> GivenSpecialStepsFixed&lt;SELF&gt;&gt;
        <span class="directive">extends</span> GivenCommonStepsFixed&lt;SELF&gt; {
    <span class="directive">public</span> SELF my_special_step() {
        <span class="keyword">return</span> self();
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_life_cycle_methods"><a class="anchor" href="#_life_cycle_methods"></a>6. Life-Cycle Methods</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_scenario_life_cycle"><a class="anchor" href="#_scenario_life_cycle"></a>6.1. Scenario Life-Cycle</h3>
<div class="paragraph">
<p>The life-cycle of a scenario is as follows.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>An instance for each stage class is created</p>
</li>
<li>
<p>The <code>before()</code> methods of all scenario rules of all stages are called</p>
</li>
<li>
<p>The <code>@BeforeScenario</code>-annotated methods of all stages are called</p>
</li>
<li>
<p>For each stage:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Values are injected into all scenario state fields</p>
</li>
<li>
<p>The <code>@BeforeStage</code>-annotated methods of the stage are called</p>
</li>
<li>
<p>The steps of the stage are executed</p>
</li>
<li>
<p>The <code>@AfterStage</code>-annotated methods of the stage are called</p>
</li>
<li>
<p>The values of all scenario state fields are extracted.</p>
</li>
</ol>
</div>
</li>
<li>
<p>The <code>@AfterScenario</code>-annotated methods of all stages are called.</p>
</li>
<li>
<p>The <code>after()</code> methods of all scenario rules of all stages are called.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="__beforescenario_afterscenario"><a class="anchor" href="#__beforescenario_afterscenario"></a>6.2. @BeforeScenario / @AfterScenario</h3>
<div class="sect3">
<h4 id="__beforescenario"><a class="anchor" href="#__beforescenario"></a>6.2.1. @BeforeScenario</h4>
<div class="paragraph">
<p>Methods annotated with <code>@BeforeScenario</code> are executed before any step of any stage of a scenario. This is useful for some general scenario setup. As an example you could initialize a WebDriver instance for Selenium tests or setup a database connection. Note that such methods are executed before injection of values. Thus the code cannot depend on scenario state fields.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@ProvidedScenarioState</span>
<span class="directive">protected</span> WebDriver webDriver;

<span class="annotation">@BeforeScenario</span>
<span class="directive">public</span> <span class="type">void</span> startBrowser() {
    webDriver = <span class="keyword">new</span> HtmlUnitDriver( <span class="predefined-constant">true</span> );
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__afterscenario"><a class="anchor" href="#__afterscenario"></a>6.2.2. @AfterScenario</h4>
<div class="paragraph">
<p>Analogous to <code>@BeforeScenario</code> there is the <code>@AfterScenario</code> annotation to execute a methods when a scenario has finished.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@ProvidedScenarioState</span>
<span class="directive">protected</span> WebDriver webdriver;

<span class="annotation">@AfterScenario</span>
<span class="directive">public</span> <span class="type">void</span> closeBrowser() {
    webdriver.close();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__scenariorule"><a class="anchor" href="#__scenariorule"></a>6.3. @ScenarioRule</h3>
<div class="paragraph">
<p><code>@BeforeScenario</code> and <code>@AfterScenario</code> methods are often used to setup and tear down some resource. If you want to reuse such a resource in another stage, you would have to copy these methods into that stage. To avoid that, JGiven offers a concept similar to JUnit rules. The idea is to have a separate class that only contains the before and after methods. This class can then be reused in multiple stages.</p>
</div>
<div class="paragraph">
<p>A rule class can be any class that provides the methods <code>before()</code> and <code>after()</code>. This is compatible with JUnit’s <code>ExternalResource</code> class, which means that you can use classes like <code>TemporaryFolder</code> from JUnit directly in JGiven.</p>
</div>
<div class="sect3">
<h4 id="_example_3"><a class="anchor" href="#_example_3"></a>6.3.1. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">WebDriverRule</span> {

    <span class="directive">protected</span> WebDriver webDriver;

    <span class="directive">public</span> <span class="type">void</span> before() {
         webDriver = <span class="keyword">new</span> HtmlUnitDriver( <span class="predefined-constant">true</span> );
    }

    <span class="directive">public</span> <span class="type">void</span> after() {
         webDriver.close();
    }
 }


<span class="directive">public</span> <span class="type">class</span> <span class="class">MyWebDriverUsingStage</span> {
    <span class="annotation">@ScenarioRule</span>
    <span class="directive">protected</span> WebDriverRule webDriverRule = <span class="keyword">new</span> WebDriverRule();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__beforestage_afterstage"><a class="anchor" href="#__beforestage_afterstage"></a>6.4. @BeforeStage / @AfterStage</h3>
<div class="sect3">
<h4 id="__beforestage"><a class="anchor" href="#__beforestage"></a>6.4.1. @BeforeStage</h4>
<div class="paragraph">
<p>Methods annotated with <code>@BeforeStage</code> are executed after injection, but before the first step method is called. This is useful for setup code that is required by all or most steps of a stage.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@BeforeStage</span>
<span class="directive">public</span> <span class="type">void</span> setup() {
  <span class="comment">// do something useful to setup the stage</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__afterstage"><a class="anchor" href="#__afterstage"></a>6.4.2. @AfterStage</h4>
<div class="paragraph">
<p>Analogous to <code>@BeforeStage</code> methods, methods can be annotated with <code>@AfterStage</code>. These methods are executed after all steps of a stage have been executed, but before extracting the values of scenario state fields. Thus you can prepare state for following stages in an <code>@AfterStage</code> method. A typical use case for this is to apply the builder pattern to build a certain object using step methods and build the final object in an <code>@AfterStage</code> method.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_4"><a class="anchor" href="#_example_4"></a>6.4.3. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MyStage</span> {

    <span class="directive">protected</span> CustomerBuilder customerBuilder;

    <span class="annotation">@ProvidedScenarioState</span>
    <span class="directive">protected</span> Customer customer;

    <span class="directive">public</span> MyStage a_customer() {
        customerBuilder = <span class="keyword">new</span> CustomerBuilder();
        <span class="keyword">return</span> <span class="local-variable">this</span>;
    }

    <span class="directive">public</span> MyStage the_customer_has_name( <span class="predefined-type">String</span> name ) {
        customerBuilder.withName( name );
        <span class="keyword">return</span> <span class="local-variable">this</span>;
    }

    <span class="annotation">@AfterStage</span>
    <span class="directive">public</span> <span class="type">void</span> buildCustomer() {
        <span class="keyword">if</span> (customerBuilder != <span class="predefined-constant">null</span>) {
            customer = customerBuilder.build();
        }
    }
 }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_parameterized_steps"><a class="anchor" href="#_parameterized_steps"></a>7. Parameterized Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Step methods can have parameters. Parameters are formatted in reports by using the String.valueOf method, applied to the arguments. The formatted arguments are added to the end of the step description.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">given().the_ingredient( <span class="string"><span class="delimiter">&quot;</span><span class="content">flour</span><span class="delimiter">&quot;</span></span> ); <span class="comment">// Given the ingredient flour</span>
given().multiple_arguments( <span class="integer">5</span>, <span class="integer">6</span> ); <span class="comment">// Given multiple arguments 5 6</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_within_a_sentence"><a class="anchor" href="#_parameters_within_a_sentence"></a>7.1. Parameters within a sentence</h3>
<div class="paragraph">
<p>To place parameters within a sentence instead the end of the sentence you can use the $ character.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">given().<span class="error">$</span>_eggs( <span class="integer">5</span> );</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the generated report <code>$</code> is replaced with the corresponding formatted parameter. So the generated report will look as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Given 5 eggs</pre>
</div>
</div>
<div class="paragraph">
<p>If there are more parameters than <code>$</code> characters, the remaining parameters are added to the end of the sentence.</p>
</div>
<div class="paragraph">
<p>If a <code>$</code> should not be treated as a placeholder for a parameter, but printed verbatim, you can write <code>$$</code>, which will appear as a single <code>$</code> in the report.</p>
</div>
</div>
<div class="sect2">
<h3 id="_custom_annotations"><a class="anchor" href="#_custom_annotations"></a>7.2. Custom Annotations</h3>
<div class="paragraph">
<p>The <code>@As</code> annotation can be used to override the shown sentence. To reference arguments you can use the three different interoperable options which apply to every description in JGiven. For more examples look up <a href="https://github.com/TNG/JGiven/blob/master/jgiven-core/src/test/java/com/tngtech/jgiven/report/model/StepFormatterTest.java">JGiven StepFormatter Tests</a></p>
</div>
<div class="paragraph">
<p>Use <code>$</code> to access the arguments in natural order.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@As</span> ( <span class="string"><span class="delimiter">&quot;</span><span class="content">the $ fresh eggs and the $ cooked rice bowls</span><span class="delimiter">&quot;</span></span> )
<span class="directive">public</span> SELF <span class="error">$</span>_eggs_and_<span class="error">$</span>_rice_bowls( <span class="type">int</span> eggs, <span class="type">int</span> riceBowls ) { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or enumerate them <code>$1, $2, &#8230;&#8203;</code> to have a direct reference:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@As</span> ( <span class="string"><span class="delimiter">&quot;</span><span class="content">the $1 fresh eggs and the $2 cooked rice bowls</span><span class="delimiter">&quot;</span></span> )
<span class="directive">public</span> SELF <span class="error">$</span>_eggs_and_<span class="error">$</span>_rice_bowls( <span class="type">int</span> eggs, <span class="type">int</span> riceBowls ) { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or reference them via the argument names:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@As</span> ( <span class="string"><span class="delimiter">&quot;</span><span class="content">the $eggs fresh eggs and the $riceBowls cooked rice bowls</span><span class="delimiter">&quot;</span></span> )
<span class="directive">public</span> SELF <span class="error">$</span>_eggs_and_<span class="error">$</span>_rice_bowls( <span class="type">int</span> eggs, <span class="type">int</span> riceBowls ) { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The call to <code>given().<em>$_eggs_and_</em>$_rice_bowls(5, 2)</code> will be shown as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Given the 2 cooked rice bowls and the 5 fresh eggs</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_extended_description"><a class="anchor" href="#_extended_description"></a>7.3. Extended Description</h3>
<div class="paragraph">
<p>An extended description is shown if you hover above the step as tooltip, but hidden by default.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@ExtendedDescription</span> ( <span class="string"><span class="delimiter">&quot;</span><span class="content">The $2 rice bowls were very delicious</span><span class="delimiter">&quot;</span></span> )
<span class="directive">public</span> SELF <span class="error">$</span>_eggs_and_<span class="error">$</span>_rice_bowls( <span class="type">int</span> eggs, <span class="type">int</span> riceBowls ) { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The call to <code>given().<em>$_eggs_and_</em>$_rice_bowls(5, 2)</code> will still be shown as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Given 5 eggs and 2 rice bowls</pre>
</div>
</div>
<div class="paragraph">
<p>The extended description can also be set by using the <code>CurrentStep</code> interface, which can be injected into a state with the <code>@ScenarioState</code> annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="annotation">@ScenarioState</span>
CurrentStep currentStep;

<span class="directive">public</span> SELF <span class="error">$</span>_eggs_and_<span class="error">$</span>_rice_bowls( <span class="type">int</span> eggs, <span class="type">int</span> riceBowls ) {
    currentStep.setExtendedDescription( <span class="string"><span class="delimiter">&quot;</span><span class="content">The </span><span class="delimiter">&quot;</span></span> + riceBowls + <span class="string"><span class="delimiter">&quot;</span><span class="content"> rice bowls were very delicious</span><span class="delimiter">&quot;</span></span> );
}

=== Parameter Formatting

Sometimes the <span class="error">`</span>toString()<span class="error">`</span> representation of a parameter object does not fit well into the report. In these cases you have three possibilities:

. Change the <span class="error">`</span>toString()<span class="error">`</span> implementation. This is often not possible or not desired, because it requires the modification of production code. However, sometimes <span class="local-variable">this</span> is appropriate.
. Provide a wrapper <span class="type">class</span> <span class="class">for</span> the parameter object that provides a different <span class="error">`</span>toString()<span class="error">`</span> method. This is useful <span class="keyword">for</span> parameter objects that you use very often.
. Change the formatting of the parameter by using special JGiven annotations. This can be used in all other cases and also to change the formatting of primitive types.

=== The <span class="annotation">@Format</span> annotation

The <span class="keyword">default</span> formatting of a parameter can be overridden by using the <span class="error">`</span><span class="annotation">@Format</span><span class="error">`</span> annotation. It takes as a parameter a <span class="type">class</span> <span class="class">that</span> <span class="directive">implements</span> the <span class="error">`</span>ArgumentFormatter<span class="error">`</span> <span class="type">interface</span>. In <span class="class">addition</span>, an optional array of arguments can be given to configure the customer formatter. For example, the built-in <span class="error">`</span>BooleanFormatter<span class="error">`</span> can be used to format <span class="error">`</span><span class="type">boolean</span><span class="error">`</span> values:

[source,java]</code></pre>
</div>
</div>
<div class="paragraph">
<p>public SELF the_machine_is_$(
    @Format( value = BooleanFormatter.class, args = { "on", "off" } ) boolean onOrOff ) {
    &#8230;&#8203;
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">In this case, `true` values will be formatted as `on` and `false` as `off`.

=== Custom formatting annotations

As using the `@Format` annotation is often cumbersome, especially if the same formatter is used in multiple places, one can define and use custom formatting annotations instead.

An example is the pre-defined `@Quoted` annotation, which surrounds parameters with quotation marks. The annotation is defined as follows:
[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@Format( value = PrintfFormatter.class, args = "\"%s\"" )
@Retention( RetentionPolicy.RUNTIME )
@Target( { ElementType.PARAMETER, ElementType.ANNOTATION_TYPE } )
public @interface Quoted {}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">As you can see, the annotation itself is annotated with the `@Format` annotation as described above, which will be applied to all parameters that are annotated with `@Quoted`.

==== Example

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>public SELF the_message_$_is_printed_to_the_console( @Quoted message ) { &#8230;&#8203; }</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">When invoked as


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>then().the_message_$_is_printed_to_the_console( "Hello World" );</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Then this will result in the report as:


--
Then the message "Hello World" is printed to the console
--

==== The @AnnotationFormat annotation
Another pre-defined annotation is the `@Formatf` annotation which uses the `@AnnotationFormat` annotation to specify the formatter. Formatters of this kind implement the `AnnotationArgumentFormatter` interface. This allows for very flexible formatters that can take the concrete arguments of the annotation into account.

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@AnnotationFormat( value = PrintfAnnotationFormatter.class )
@Retention( RetentionPolicy.RUNTIME )
@Target( ElementType.PARAMETER )
public @interface Formatf {
    String value() default "%s";
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== The @POJOFormat annotation

When step parameter is a POJO, it may sometimes be useful to get a string representation using part or all of the fields composing this POJO.

The `@POJOFormat` fulfills this need while providing a way to format fields values following customizable field formats.

Given the following POJO :


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>class CoffeeWithPrice {
   String name;
   double price_in_EUR;
   CoffeeWithPrice(String name, double priceInEur) {
      this.name = name;
      this.price_in_EUR = priceInEur;
   }
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Then you can define a step method as follows:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>public SELF the_coffee_price_$_is_registered( @POJOFormat(fieldFormats = {
                    @NamedFormat( name = "name", customFormatAnnotation = Quoted.class),
                    @NamedFormat( name = "price_in_EUR", format = @Format( value = PrintfFormatter.class, args = "%s EUR" ) )
                } ) CoffeeWithPrice price ) {
  &#8230;&#8203;
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">where `@NamedFormat` associates a format (classic `@Format` or any custom format annotation) to a field by its name.

Finally, the step method can be called with an argument :


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>given().the_coffee_price_$_is_registered(new CoffeeWithPrice("Espresso", 2.0));</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Then the report will look as follows:
[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>Given the coffee price ["Espresso",2.0 EUR] is registered</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">For additional options, see the http://jgiven.org/javadoc/com/tngtech/jgiven/annotation/POJOFormat.html[JavaDoc documentation of the `@POJOFormat` annotation]

==== Reuse a set of @NamedFormat definitions
When several steps uses the same type of POJO in their parameters, it may be tedious to redefine this POJO fields formats in each of these steps.

The solution in this case is to create a custom annotation where POJO fields formats will be declared once and for all. +
This custom annotation will be itself annotated with the `@NamedFormats` which will wraps as much as `@NamedFormat` as there are fields needing a specific formatting. +
It can then further be referenced by any `@POJOformat` and `@Table` annotations through their respective `fieldsFormatSetAnnotation` attribute.

Given the following POJO :


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>class CoffeeWithPrice {
   String name;
   double price_in_EUR;
   CoffeeWithPrice(String name, double priceInEur) {
      this.name = name;
      this.price_in_EUR = priceInEur;
   }
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Then you can specify a reusable set of formats for each field of this POJO through a new custom annotation :

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@NamedFormats( {
   @NamedFormat( name = "name", customFormatAnnotation = Quoted.class),
   @NamedFormat( name = "price_in_EUR", format = @Format( value = PrintfFormatter.class, args = "%s EUR" ) )
} )
@Retention( RetentionPolicy.RUNTIME )
public @interface CoffeeWithPriceFieldsFormatSet {}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Then you will be able to reuse this custom named formats set annotation into the kind of steps below :

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>public SELF the_coffee_price_$_is_registered( @POJOFormat(fieldsFormatSetAnnotation = CoffeeWithPriceFieldsFormatSet.class ) CoffeeWithPrice price ) {
  &#8230;&#8203;
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>public SELF expected_coffee_price_for_name_$<em>is</em>$(@Quoted String coffeeName, @POJOFormat(fieldsFormatSetAnnotation = CoffeeWithPriceFieldsFormatSet.class ) CoffeeWithPrice price ) {
  &#8230;&#8203;
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">==== Field-level format definition
If you have full control over the POJO class, you can also specify fields format directly into the POJO class, at field level, by annotating POJO fields with any format (or chain of formats) of your choice. +
JGiven will then make use of field-level format annotations within a `@POJOFormat` or `@Table` context of use.

Given the following POJO with field-level specified formats :


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>class CoffeeWithPrice {</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">@Quoted
String name;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">@Format( value = PrintfFormatter.class, args = "%s EUR" )
double price_in_EUR;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">   CoffeeWithPrice(String name, double priceInEur) {
      this.name = name;
      this.price_in_EUR = priceInEur;
   }
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Then you can define a step method as follows:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>public SELF the_coffee_price_$_is_registered(@POJOFormat CoffeeWithPrice price ) {
  &#8230;&#8203;
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Finally, the step method can be called with an argument :


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>given().the_coffee_price_$_is_registered(new CoffeeWithPrice("Espresso", 2.0));</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Then the report will look as follows:
[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>Given the coffee price ["Espresso",2.0 EUR] is registered</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Please note that `@NamedFormat` specified at `@POJOformat` or `@Table` level have precedence over field-level defined formats.

=== Tables as Parameters

Sometimes information can be represented very concisely by using tables. JGiven supports this with the `@Table` annotation for step parameters. Such parameters are then formatted as tables in the report. The types of such parameters can be:

. A list of lists, where each inner list represents a single row and the first row represents the headers of the table.
. A list of POJOs, where each POJO represents a row and the headers are inferred by the names of the fields of the POJO.
. A single POJO, which is equivalent to a one-element list of POJOs.

==== Example

Given the following POJO:


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>class CoffeeWithPrice {
   String name;
   double price_in_EUR;
   CoffeeWithPrice(String name, double priceInEur) {
      this.name = name;
      this.price_in_EUR = priceInEur;
   }
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Then you can define a step method as follows:



[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>public SELF the_prices_of_the_coffees_are( @Table CoffeeWithPrice&#8230;&#8203; prices ) {
  &#8230;&#8203;
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Finally, the step method can be called with a list of arguments:


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>given().the_prices_of_the_coffees_are(
   new CoffeeWithPrice("Espresso", 2.0),
   new CoffeeWithPrice("Cappuccino", 2.5));</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Then the report will look as follows:


--
Given the prices of the coffees are

      | name       | price in EUR |
      +------------+--------------+
      | Espresso   | 2.0          |
      | Cappuccino | 2.5          |
--
For additional options, see the http://jgiven.org/javadoc/com/tngtech/jgiven/annotation/Table.html[JavaDoc documentation of the `@Table` annotation]

Also note that POJO fields formats can be specified thanks to the `@Table#fieldsFormat` or `@Table#fieldsFormatSetAnnotation` options. +
See &lt;&lt;_the_pojoformat_annotation&gt;&gt; section for more informations about how to use these two options.

== Parameterized Scenarios
:sourcedir: ../jgiven-examples/src/test/java/com/tngtech/jgiven/examples

JGiven scenarios can be parameterized. This is very useful for writing data-driven scenarios, where the scenarios itself are the same, but are executed with different example values.

Parameterization of Scenarios works with TestNG and JUnit, we only show it for JUnit. For TestNG it works analogous.

=== JUnit

JGiven supports several different ways to parameterize a JUnit test:

. JUnit’s built-in Parametrized Runner
. https://github.com/TNG/junit-dataprovider[JUnit DataProvider]
. https://github.com/Pragmatists/JUnitParams[JUnitParams]

We use the JUnit Dataprovider in the following.

=== JUnit Dataprovider Runner

https://github.com/TNG/junit-dataprovider[JUnit Dataprovider] provides a JUnit test runner that enables the execution of paramterized test methods. It is similar to the way parameterized tests work in http://testng.org/[TestNG].

==== Example
[source,java]</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">@Test
@DataProvider( {
        "1, 1",
        "0, 2",
        "1, 0"
} )
public void coffee_is_not_served( int coffees, int euros ) {
    given().a_coffee_machine()
            .and().the_coffee_costs_$_euros( 2 )
            .and().there_are_$_coffees_left_in_the_machine( coffees );</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">when().I_insert_$_one_euro_coins( euros )
        .and().I_press_the_coffee_button();</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">    then().I_should_not_be_served_a_coffee();
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">The resulting report will then look as follows:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">Coffee is not served</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">Given a coffee machine
  And the coffee costs 2 euros
  And there are &lt;coffees&gt; coffees left in the machine
 When I insert &lt;euros&gt; one euro coins
  And I press the coffee button
 Then I should not be served a coffee</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">Cases:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">| # | coffees | euros | Status  |
+---+---------+-------+---------+
| 1 |       1 |     1 | Success |
| 2 |       0 |     2 | Success |
| 3 |       1 |     0 | Success |</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Case As Description

If your test has multiple cases, you can use the `@CaseAs` to provide additional information to the description for each case.

[source,java]</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">@Test
@DataProvider( {
        "On the first run, 1, quite ok",
        "And on the second run, 2, well-done"
} )
@CaseAs( "$1" )
public void coffe_making_gets_better( String description, int runNr, String result ) {
    given().a_coffee_machine();
    when().I_make_coffee_for_the_$_time( runNr );
    then().the_result_is( result );
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">The resulting report will then look as follows:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">Coffe making gets better</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">Given a coffee machine
 When I make coffee for the &lt;runNr&gt; time
 Then the result is &lt;result&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">Cases:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">| # | Description           | runNr | result    | Status  |
+---+-----------------------+-------+-----------+---------+
| 1 | On the first run      |     1 | quite ok  | Success |
| 2 | And on the second run |     2 | well-done | Success |</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">== Tags
:sourcedir: ../jgiven-examples/src/test/java/com/tngtech/jgiven/examples

Tags are used to organize scenarios. A tag in JGiven is just a Java annotation that is itself annotated with the http://jgiven.org/javadoc/com/tngtech/jgiven/annotation/IsTag.html[`@IsTag`] annotation. You can annotate whole test classes or single test methods with tag annotations. Tags then appear in the resulting report.

Let’s say you want to know which scenarios covers the coffee feature. To do so you define a new Java annotation:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@IsTag
@Retention( RetentionPolicy.RUNTIME )
public @interface ExampleCategory {}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Two things are important:

1. The annotation itself must be annotated with the `@IsTag` annotation to mark it as a JGiven tag.
2. The annotation must have retention policy RUNTIME so that JGiven can recognize it at runtime.

To tag a scenario with the new tag, you just annotate the corresponding test method:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@ExampleSubCategory
@Test
public void tags_can_form_a_hierarchy() {
    given().tags_annotated_with_tags();
    when().the_report_is_generated();
    then().the_tags_appear_in_a_hierarchy();
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">In the report the scenario will then be tagged with tag CoffeeFeature.

You can also annotate the whole test class, in which case all scenarios of that class will get the tag.

=== Descriptions

Tags can have descriptions. These descriptions appear in the report on the corresponding page for the tag. For example:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@IsTag( style = "background-color: darkgreen; color: white; font-weight: bold",
    description = "Tags can be arbitrarily styled with the 'style' attribute of the '@IsTag' annotation. "<br>
            "This tag shows how to apply such a custom style" )
@Retention( RetentionPolicy.RUNTIME )
public @interface TagsWithCustomStyle {}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Overriding the Name

It is possible to override the name of a tag by using the `name` attribute of the `IsTag` annotation. This allows you to have a different name for the tag than the actual type of the annotation. For example, if you want to have a tag `Feature: Coffee` you can define the `CoffeeFeature` annotation as follows:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@IsTag( name = "Feature: Coffee" )
@Retention( RetentionPolicy.RUNTIME )
public @interface CoffeeFeature { }</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Values

Sometimes you do not want to always create a new annotation for each tag. Let’s say you organize your work in stories and for each story you want to know which scenarios have been written for that story. Instead of having a separate annotation for each story you can define a `Story` annotation with a `value()` method:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@IsTag( prependType = false )
@Retention( RetentionPolicy.RUNTIME )
public @interface CategoryWithValue {
    String value();
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Annotations with different values are treated as different tags in JGiven. So using the above annotation you can now mark scenarios to belong to certain stories:


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@Test @Story("ACME-123")
public void scenarios_can_have_tags() {
  &#8230;&#8203;
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">In the report the tag will now be `ACME-123` instead of `Story`.

If you want that the type is prepended to the value in the report you can set the `prependType` attribute of the `IsTag` annotation to `true`. In this case the tag will be shown as `Story-ACME-123`. Note that this feature works in combination with the `name` attribute.

Annotations with the same type but different values are grouped in the report. E.g. multiple `@Story` tags with different values will be grouped under `Story`.

==== Array Values

The value of a tag annotation can also be an array:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@IsTag
@Retention( RetentionPolicy.RUNTIME )
public @interface Story {
    String[] value();
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">This allows you to give the same scenario multiple tags of the same type with different values:


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@Test @Story( {"ACME-123", "ACME-456"} )
public void scenarios_can_have_tags() {
  &#8230;&#8203;
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">For each value, one tag will be generated, e.g. `ACME-123` and `ACME-456`. If you do not want that behavior you can set the `explodeArray` attribute of `@IsTag` to `false`, in that case only one tag will be generated and the values will comma-separated, e.g. `ACME-123,ACME-456`.

==== Value Dependent Description

When the description of a tag depends on its value you cannot simply set the description on the `@IsTag` annotation, because it will be the same for all values.

Let’s assume you have an `@Issue` tag and want to have a link to the corresponding GitHub issue in the description. To do so you can provide your own http://jgiven.org/javadoc/com/tngtech/jgiven/annotation/TagDescriptionGenerator.html[`TagDescriptionGenerator`] implementation that generates a description of a tag depending on its actual value:


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>public class IssueDescriptionGenerator implements TagDescriptionGenerator {
    @Override
    public String generateDescription( TagConfiguration tagConfiguration,
            Annotation annotation, Object value ) {
        return String.format(
           "&lt;a href='https://github.com/TNG/JGiven/issues/%s'&gt;Issue %s&lt;/a&gt;",
            value, value );
    }
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">The new `IssueDescriptionGenerator` must now be configured for the `@Issue` annotation using the http://jgiven.org/javadoc/com/tngtech/jgiven/annotation/IsTag.html#descriptionGenerator%28%29[`descriptionGenerator`] attribute of `@IsTag`:


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@IsTag( descriptionGenerator = IssueDescriptionGenerator.class )
@Retention( RetentionPolicy.RUNTIME )
public @interface Issue {
    String[] value();
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Overriding the Value

If you want to group several annotations with different types under a common name. You can combine the `name` attribute with the `value` attribute as follows:


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@IsTag( name = "Feature", value = "Tag" )
@Retention( RetentionPolicy.RUNTIME )
public @interface FeatureTags { }</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">The tag will appear as `Tag` in the report and all annotations with name Feature will be grouped together.

=== Hierarchical Tags

If your number of tags grow you typically want to organize your tags somehow. This is easily possible in JGiven by forming tag hierarchies. A tag hierarchy is defined by just annotating a tag annotation with other tags. Each of these tags will then become a parent tag in the hierarchy. For example, if you want to organize your features into ‘Core Features’ and ‘Secondary Features’ you can do so by first defining two tags `@CoreFeature` and `@SecondaryFeature` for each of these categories as you would define a normal JGiven tag. If you now want to define a feature tag as a Core Feature you just annotated that tag accordingly:



[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@CoreFeature
@IsTag
@Retention( RetentionPolicy.RUNTIME )
public @interface OneOfMyCoolCoreFeatures {}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">== Attachments

Steps can have attachments. This is useful, for example, to save sceenshots during tests or to refer to larger files that should not be printed inline in the report.

=== Creating Attachments

There are several ways to create an attachment by using static factory methods of the http://jgiven.org/javadoc/com/tngtech/jgiven/attachment/Attachment.html[`Attachment`] class. For example, you can create textual attachments from a given `String` by using the `fromText` method.

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>Attachment attachment = Attachment.fromText("Hello World", MediaType.PLAIN_TEXT);</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">==== Titles

Attachments can have an optional title which can be used by reports, for example, to show a tooltip. The title is set with the `withTitle` method:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>Attachment attachment = Attachment
    .fromText("Hello World", MediaType.PLAIN_TEXT)
    .withTitle("Some Title");</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">==== Binary Attachments

Binary attachments are internally stored by JGiven as Base64-encoded strings. If the binary content is already present as a Base64-encoded string one can just use that to create a binary attachment:


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>Attachment attachment = Attachment
    .fromBase64("SGVsbG8gV29ybGQK", MediaType.application("jgiven"));</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Adding Attachments to Steps

To add an attachment to a step you have to first inject the http://jgiven.org/javadoc/com/tngtech/jgiven/CurrentStep.html[`CurrentStep`] class into your stage class by using `@ExpectedScenarioState`.


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@ExpectedScenarioState
CurrentStep currentStep;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Now you can use `currentStep` inside step methods to add attachments using the http://jgiven.org/javadoc/com/tngtech/jgiven/CurrentStep.html#addAttachment%28com.tngtech.jgiven.attachment.Attachment%29[`addAttachment`] method. The method takes as argument an instance of http://jgiven.org/javadoc/com/tngtech/jgiven/attachment/Attachment.html[`Attachment`].


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>public SELF my_step_with_attachment() {
    Attachment attachment = &#8230;&#8203;
    currentStep.addAttachment( attachment );
    return self();
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Example: Taking Screenshots with Selenium WebDriver

If you are using Selenium WebDriver and want to add screenshots to a JGiven step you can do so as follows:


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>String base64 = ( (TakesScreenshot) webDriver ).getScreenshotAs( OutputType.BASE64 );
currentStep.addAttachment( Attachment.fromBase64( base64, MediaType.PNG )
           .withTitle( "Screenshot" ) );</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">For a full example, see the https://github.com/TNG/JGiven/blob/master/jgiven-tests/src/test/java/com/tngtech/jgiven/report/html5/Html5AppStage.java[Html5AppStage] class that is used by the JGiven tests.


== Exception Handling

When writing JGiven scenarios you should know how JGiven handles exceptions. In general, JGiven captures all exceptions that are thrown in step methods. This is done, so that the steps following the errornous step can still be executed by JGiven to show them in the report as skipped steps. After the whole scenario has been executed, JGiven will rethrow the exception that has been previously thrown, so that the overall test actually fails. This behavior is in general no problem as long as you do not really expect exceptions to happen.

=== Expecting Exceptions

Let’s assume you want to verify that in the step method `doing_some_action` a certain exception is thrown and you write the following scenario using JUnit:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@Test(expected = MyExpectedException.class)
public void an_expected_exception_should_be_thrown() {
    given().some_errornous_precondition();
    when().doing_some_action();
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">This scenario has two drawbacks: first it will not work and second the generated report will not make clear that actually an exception is expected. It will not work, because the JUnit mechanism to check for an expected exception actually comes too early. As already explained above, JGiven will throw the exception itself, after the scenario has finished. As JGiven is actually implemented as a JUnit rule, throwing this exception will be after JUnit has checked for an expected exception. This technical issue can be fixed by using the `ExpectedException` rule of JUnit:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@Rule
public ExpectedException rule = ExpectedException.none();</p>
</div>
<div class="paragraph">
<p>@Test
public void an_expected_exception_should_be_thrown() {
   // will work, but is not visible in the report
   rule.expect(MyExpectedException.class);
   given().some_errornous_precondition();
   when().doing_some_action();
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">In this case, the actual verification of the exception is done after JGiven has thrown the exception and thus the `ExpectedException` rule will get the exception.

=== A better approach

The above example has still the big disadvantage that it will not visible in the report that an exception is actually expected. More helpful would be the following scenario:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@Test
public void an_expected_exception_should_be_thrown() {
   given().some_errornous_precondition();
   when().doing_some_action();
   then().an_exception_is_thrown();
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Note, that this is scenario is still very technical and you should consider replacing the word ‘exception’ with a more domain specific term.

In order to realize the above scenario you have to explictly catch the exception in the `doing_some_action` step and store it into a scenario state field.


[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@ProvidedScenarioState
MyExpectedException someExpectedException;</p>
</div>
<div class="paragraph">
<p>public SELF doing_some_action() {
   try {
       &#8230;&#8203;
   } catch (MyExpectedException e) {
      someExpectedException = e;
   }
   return self();
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">In the When-Stage you then just have to check whether the field is set:



[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@ExpectedScenarioState
MyExpectedException someExpectedException;</p>
</div>
<div class="paragraph">
<p>public SELF an_exception_is_thrown() {
    assertThat( someExpectedException ).isNotNull();
    return self();
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">== Spcok
:javadocurl: http://static.javadoc.io/com.tngtech.jgiven/jgiven-spock/{version}/com/tngtech/jgiven/spock

CAUTION: Spock support is currently in an experimental state.
This means that the API is not completely stable yet and that not all
JGiven and Spock features might be supported yet.

=== Install Dependency
Spock support is provided by the `jgiven-spock` dependency.

==== Maven

[source,maven,subs="verbatim,attributes"]</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;dependency&gt;
   &lt;groupId&gt;com.tngtech.jgiven&lt;/groupId&gt;
   &lt;artifactId&gt;jgiven-spock&lt;/artifactId&gt;
   &lt;version&gt;0.17.1&lt;/version&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">==== Gradle

[source,gradle,subs="verbatim,attributes"]</pre>
</div>
</div>
<div class="paragraph">
<p>dependencies {
    testImplementation "com.tngtech.jgiven:jgiven-spock:0.17.1"
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Use JGiven with Spock

JGiven support for Spock is provided by extending `ScenarioSpec&lt;Given, When, Then&gt;`
and JGiven is enabled.

[source,groovy]</pre>
</div>
</div>
<div class="paragraph">
<p>class SpockSpec extends ScenarioSpec&lt;Given, When, Then&gt; {</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">def "my scenario"() {
   expect:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">      given().some_context()
      when().some_action()
      then().some_outcome()
   }
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Example Project

You find a complete example project on GitHub: https://github.com/TNG/JGiven/tree/master/example-projects/spock

== Spring
:javadocurl: http://static.javadoc.io/com.tngtech.jgiven/jgiven-spring/{version}/com/tngtech/jgiven/integration/spring

=== Install Dependency
Spring support is provided by the `jgiven-spring` dependency.

==== Maven

[source,maven,subs="verbatim,attributes"]</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;dependency&gt;
   &lt;groupId&gt;com.tngtech.jgiven&lt;/groupId&gt;
   &lt;artifactId&gt;jgiven-spring&lt;/artifactId&gt;
   &lt;version&gt;0.17.1&lt;/version&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">==== Gradle

[source,gradle,subs="verbatim,attributes"]</pre>
</div>
</div>
<div class="paragraph">
<p>dependencies {
    testCompile("com.tngtech.jgiven:jgiven-spring:0.17.1")
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Configure Spring

In order to enable the JGiven Spring integration you have to tell Spring about the
existence of JGiven.

==== Annotation-Based
If you are using the annotation-based configuration of Spring you can annotate your Spring
configuration with the link:{javadocurl}/EnableJGiven.html[`@EnableJGiven`] annotation.
This is all you have to do to configure Spring for JGiven.

===== Example

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@EnableJGiven
@Configuration
public class MySpringConfig {
   &#8230;&#8203;
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">==== XML-Based
You can also configure JGiven with XML by adding the `jgiven:annotation-driven` tag to your
Spring XML config.

===== Example
[source, XML]</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:jgiven="http://jgiven.org/jgiven-spring"
    xsi:schemaLocation="http://www.springframework.org/schema/beans <a href="http://www.springframework.org/schema/beans/spring-beans-3.0.xsd" class="bare">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</a>
                        <a href="http://www.springframework.org/schema/context" class="bare">http://www.springframework.org/schema/context</a> <a href="http://www.springframework.org/schema/context/spring-context-3.0.xsd" class="bare">http://www.springframework.org/schema/context/spring-context-3.0.xsd</a>
                        <a href="http://jgiven.org/jgiven-spring" class="bare">http://jgiven.org/jgiven-spring</a> <a href="http://jgiven.org/schemas/jgiven-spring.xsd"&gt" class="bare">http://jgiven.org/schemas/jgiven-spring.xsd"&gt</a>;</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">&lt;jgiven:annotation-driven/&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;/beans&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Use JGiven in JUnit-based Spring Tests

To now use JGiven in JUnit-based Spring Tests you should inherit from one of the provided tests classes:

   - `SpringScenarioTest`
   - `SpringRuleScenarioTest`
   - `SimpleSpringScenarioTest`
   - `SimpleSpringRuleScenarioTest`

The test classes with `SpringRule` tests already include the Spring JUnit rules, thus you need to add these
rules to your test class and you also don't have to specify the Spring JUnit runner.

If you cannot or don't want to inherit from these classes, you
can copy the content of these classes (one method) into one of your test base classes.

=== Stages as Spring Beans

In order to treat JGiven stages as Spring beans, e.g. if you want to inject
 other Spring beans into your stages, you have to annotate
the stage class with the link:{javadocurl}/JGivenStage.html[`@JGivenStage`] annotation.

==== Example

[source, java]</pre>
</div>
</div>
<div class="paragraph">
<p>@JGivenStage
public class MyStage {</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">   @Autowired
   MyService myService;
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Example Project

You find a complete example project on GitHub: https://github.com/TNG/JGiven/tree/master/example-projects/spring-boot

== Web Testing with Selenium

JGiven is a completely use-case agnostic testing library.
So it is no surprise that you can also write Selenium-Tests with JGiven.
In fact, JGiven can be considered as a perfect addition on top of Selenium:
In Selenium you define the low-level interaction with the browser and HTML pages.
In JGiven you define a high-level, domain specific language to specify your scenarios.

There is no additional integration module needed in order to use JGiven with Selenium

=== Page Objects vs Stages

It is possible to treat Selenium page objects directly as JGiven stages.
This sometimes makes sense for simple cases, but from a code design perspective,
it is better to separate these different concerns into multiple classes.
The page object should be solely responsible for the low-level
interaction with a HTML page.
The stage class contains the high-level steps of the scenario and
handles the state of the scenario.

=== Example Project

You find a complete example project on GitHub: https://github.com/TNG/JGiven/tree/master/example-projects/selenium

== Android

JGiven can be used to test Android applications.
For unit-tests, which are not running on an Android device or emulator, you can just use `jgiven-junit`.
You don't have to do any special test setup to get that working.

=== Testing on an Device or Emulator (EXPERIMENTAL)

If you want to execute your tests on an Android device or emulator, for example when you want to use the _Espresso_
test framework, then you need some additional setup.

CAUTION: This feature exists since version 0.14.0-RC1 and is still in an experimental status. This means that it is not tested very well yet and that
the implementation might be changed in a backwards-incompatible way in future versions of JGiven.


==== JGiven Android Dependency
First of all you need an additional project dependency to the `jgiven-android` module:

[source,gradle,subs="verbatim,attributes"]</pre>
</div>
</div>
<div class="paragraph">
<p>dependencies {
    androidTestCompile("com.tngtech.jgiven:jgiven-android:0.17.1")
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">==== Enable additional Permissions

JGiven writes JSON files during the execution of the tests to the external storage of the device or emulator.
Thus you have to enable the permission `WRITE_EXTERNAL_STORAGE` when executing the tests.
You can do that by creating a file `src/debug/AndroidManifest.xml` that enables that permission:

[source,XML]</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="the.package.of.my.app"&gt;</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;/manifest&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">==== AndroidJGivenTestRule

In your test classes you have to add the following additional JUnit rule:

[source, Java]</pre>
</div>
</div>
<div class="paragraph">
<p>@Rule
public AndroidJGivenTestRule androidJGivenTestRule = new AndroidJGivenTestRule(this.getScenario());</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">In addition, it is useful to expose the `ActivityTestRule` to Stages by
using the `@ScenarioState` annotation:

[source, Java]</pre>
</div>
</div>
<div class="paragraph">
<p>@Rule
@ScenarioState
public ActivityTestRule&lt;MainActivity&gt; activityTestRule = new ActivityTestRule&lt;&gt;(MainActivity.class);</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">==== Pull JGiven JSON files from device

When the test execution has finished, you need to pull the JGiven JSON files from the device to the local drive.
You can do that using the `adb` tool. The following Gradle task does the job:

[source,gradle]</pre>
</div>
</div>
<div class="paragraph">
<p>def targetDir = 'build/reports/jgiven/json'
def adb = android.getAdbExe().toString()
def reportsDir = '/storage/emulated/0/Download/jgiven-reports'</p>
</div>
<div class="paragraph">
<p>task cleanJGivenReports(type: Delete) {
  delete targetDir
}</p>
</div>
<div class="paragraph">
<p>task pullJGivenReports(type: Exec, dependsOn: cleanJGivenReports) {
    doFirst {
        if (!file(targetDir).mkdirs()) {
            println("Cannot create dir "+targetDir)
        }
    }</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">commandLine adb, 'pull', reportsDir, targetDir</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">    doLast {
        println("Pulled "+reportsDir+" to "+targetDir);
    }
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">==== Generate HTML Report

Given the local JSON files, you can generate the HTML report as described in &lt;&lt;_report_generation&gt;&gt;

==== Taking Screen Shots in Espresso Tests

It is very useful to take screen shots during your tests and add them to the JGiven documentation.
When using the _Espresso_ framework, you can use the following piece of code to take
a screenshot of an activity and turn it into a `byte` array:

[source, Java]</pre>
</div>
</div>
<div class="paragraph">
<p>public class ScreenshotUtil {
    public static byte[] takeScreenshot(Activity activity) {
        View view = activity.getWindow().getDecorView().getRootView();
        view.setDrawingCacheEnabled(true);
        Bitmap bitmap = Bitmap.createBitmap(view.getDrawingCache());
        view.setDrawingCacheEnabled(false);
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        bitmap.compress(Bitmap.CompressFormat.PNG, 100, baos);
        return baos.toByteArray();
    }
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">This byte array can then be added to a step of a JGiven report as usual:

[source, Java]</pre>
</div>
</div>
<div class="paragraph">
<p>public class MyStage {
    @ScenarioState
    CurrentStep currentStep;</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">@ScenarioState
ActivityTestRule&lt;MainActivity&gt; activityTestRule;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">public Steps clicking_the_Click_Me_button() {
    onView(withId(R.id.clickMeButton)).perform(click());
    takeScreenshot();
    return this;
}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">    @Hidden
    public void takeScreenshot() {
        currentStep.addAttachment(
            Attachment.fromBinaryBytes(
                ScreenshotUtil.takeScreenshot( activityTestRule.getActivity()),
                MediaType.PNG).showDirectly()) ;
    }
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Example Project

You find a complete example project on GitHub: https://github.com/TNG/JGiven/tree/master/example-projects/android

== JUnit 5 (EXPERIMENTAL)
:javadocurl: http://static.javadoc.io/com.tngtech.jgiven/jgiven-junit5/{version}/com/tngtech/jgiven/junit5

CAUTION: JUnit 5 support is currently in an experimental state.
This means that the API is not completely stable yet and that not all
JGiven and JUnit 5 features are completely supported yet.

=== Known Issues

* Nested tests are all reported under the outer parent test class
* Dynamic tests are not reported at all. As dynamic tests in JUnit 5 do not provide life-cycle
  hooks, it is unclear at the moment, whether JGiven will ever support them.

=== Install Dependency
JUnit 5 support is provided by the `jgiven-junit5` dependency.

==== Maven

[source,maven,subs="verbatim,attributes"]</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;dependency&gt;
   &lt;groupId&gt;com.tngtech.jgiven&lt;/groupId&gt;
   &lt;artifactId&gt;jgiven-junit5&lt;/artifactId&gt;
   &lt;version&gt;0.17.1&lt;/version&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">==== Gradle

[source,gradle,subs="verbatim,attributes"]</pre>
</div>
</div>
<div class="paragraph">
<p>dependencies {
    testCompile("com.tngtech.jgiven:jgiven-junit5:0.17.1")
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Use JGiven with JUnit 5

JGiven support for JUnit 5 is provided by the link:{javadocurl}/JGivenExtension.html[`JGivenExtension`]
JUnit 5 extension. You just annotate your JUnit 5 test class with `@ExtendWith( JGivenExtension.class )`
and JGiven is enabled.

If you just use the extension directly, you have to inject your stage classes by using
the `@ScenarioStage` annotation.

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>@ExtendWith( JGivenExtension.class )
public class JUnit5Test {</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">@ScenarioStage
MyStage myStage;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">@Test
public void my_scenario() {
   myStage
     .given().some_context()
     .when().some_action()
     .then().some_outcome();</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">   }
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Alternatively, you can use one of the test base classes link:{javadocurl}/ScenarioTest.html[`ScenarioTest`] or
link:{javadocurl}/SimpleScenarioTest.html[`SimpleScenarioTest`] that provide additional convenience methods
and allows you to specify stage classes by using type parameters:

[source,java]</pre>
</div>
</div>
<div class="paragraph">
<p>public class JGiven5ScenarioTest
    extends ScenarioTest&lt;GivenStage, WhenStage, ThenStage&gt; {</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">    @Test
    public void JGiven_works_with_JUnit5() {
        given().some_state();
        when().some_action();
        then().some_outcome();
    }
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">=== Example Project

You find a complete example project on GitHub: https://github.com/TNG/JGiven/tree/master/example-projects/junit5</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.17.1<br>
Last updated 2019-05-01 13:11:42 +02:00
</div>
</div>
</body>
</html>