name: Renovate-Dry-Run
on:
  workflow_dispatch:
    inputs:
      pac_to_use:
        description: "Name of the workflow secret to use"
        type: string
        required: true
      branch:
        description: "Branch that renovate should operate on"
        type: string
        required: true

jobs:
  renovate:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3.3.0
      - name: Renovate-dry-run
        uses: renovatebot/github-action@v34.157.0
        with:
          configurationFile: renovate.json
          token: ${{secrets.$inputs.pac_to_use}}
        env:
          LOG_LEVEL: "debug"
          RENOVATE_DRY_RUN: "full"
          RENOVATE_BASE_BRANCHES: ${{inputs.branch}}
          RENOVATE_REPOSITORIES: "TNG/JGiven"
