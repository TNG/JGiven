<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>JGiven by TNG</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>JGiven</h1>
        <p>BDD for Java in Java</p>

        <p class="view"><a href="https://github.com/TNG/jgiven">View the Project on GitHub <small>TNG/jgiven</small></a></p>


        <ul>
          <li><a href="https://github.com/TNG/jgiven/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/TNG/jgiven/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/TNG/jgiven">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="jgiven" class="anchor" href="#jgiven"><span class="octicon octicon-link"></span></a>JGiven</h1>

<p>(c) 2013-2014 under the Apache License</p>

<h2>
<a name="back-to-the-roots" class="anchor" href="#back-to-the-roots"><span class="octicon octicon-link"></span></a>Back to the roots</h2>

<ul>
<li>Write your scenarios in plain Java and use all your known IDE features without the need for any additional plugin</li>
<li>No need for additional languages like Groovy or Scala</li>
<li>No need to work with text files and regular expressions to bind text to code</li>
<li>No need to write tests mixed with HTML</li>
<li>No extra test-runner, just use JUnit or TestNG</li>
<li>Get reports that business owners and domain experts can read and understand</li>
</ul><h3>
<a name="example" class="anchor" href="#example"><span class="octicon octicon-link"></span></a>Example</h3>

<div class="highlight highlight-Java"><pre>
<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">a_pancake_can_be_fried_out_of_an_egg_milk_and_flour</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">given</span><span class="o">().</span><span class="na">an_egg</span><span class="o">().</span>
        <span class="n">and</span><span class="o">().</span><span class="na">some_milk</span><span class="o">().</span>
        <span class="n">and</span><span class="o">().</span><span class="na">the_ingredient</span><span class="o">(</span> <span class="s">"flour"</span> <span class="o">);</span>

    <span class="n">when</span><span class="o">().</span><span class="na">the_cook_mangles_everthing_to_a_dough</span><span class="o">().</span>
        <span class="n">and</span><span class="o">().</span><span class="na">the_cook_fries_the_dough_in_a_pan</span><span class="o">();</span>

    <span class="n">then</span><span class="o">().</span><span class="na">the_resulting_meal_is_a_pan_cake</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>

<p>The above test can be executed like any JUnit test.
During the execution, JSON files are generated that can then be used afterwards to generated test reports.
By default, a plain text report is shown in the console, which would look as follows:</p>

<pre><code>Scenario: a pancake can be fried out of an egg milk and flour

  Given an egg
    And some milk
    And the ingredient flour

   When the cook mangles everything to a dough
    And the cook fries the dough in a pan

   Then the resulting meal is a pan cake
</code></pre>

<h2>
<a name="principles" class="anchor" href="#principles"><span class="octicon octicon-link"></span></a>Principles</h2>

<ul>
<li>Scenarios are written as Java code.</li>
<li>No annotations are needed, because JGiven directly parses the Java method names and parameters during the test execution.</li>
<li>Methods should be written in Snake_Case to have the correct case in the reports.</li>
<li>Scenarios consist of so-called stages, which share state by injection</li>
</ul><h2>
<a name="stages-and-state-injection" class="anchor" href="#stages-and-state-injection"><span class="octicon octicon-link"></span></a>Stages and State Injection</h2>

<p>A JGiven scenario consists of multiple stages. Typically there is a stage for each phase of a scenario: a given stage, a when stage and a then stage,
however, it is also possible to just use one stage or use arbitrary many stages.
A stage is implemented by a stage class that contains methods representing the steps that can be used in the scenario.
The big advantage of this modular concept is that stages can be easily reused by different scenarios.</p>

<p>Stage classes are POJOs that follow the fluent-interface pattern. This means that all methods return the this-reference.
In order to work together with inheritance, a stage class should have a type parameter SELF that extends the stage class itself.
JGiven also provides the helper class Stage that provides a self() method to return the SELF type parameter.
This is best understood by an example:</p>

<pre><code>public class GivenIngredients&lt;SELF extends GivenIngredients&gt; extends Stage&lt;SELF&gt; {
   List&lt;String&gt; ingredients = new ArrayList&lt;String&gt;();

   public SELF an_egg() {
      ingredients.add("Egg");
      return self();
   }
   ...
}
</code></pre>

<p>Stages share state by using injection. This works by annotating the fields with a special annotation @ScenarioState.
The values of these fields are shared between all stages that have the same field.</p>

<p>For example, to be able to access the value of the ingredients field of the GivenIngredients stage in the WhenCook stage one has to annotate that field accordingly:</p>

<pre><code>public class GivenIngredients&lt;SELF extends GivenIngredients&gt; extends Stage&lt;SELF&gt; {
   @ScenarioState
   List&lt;String&gt; ingredients = new ArrayList&lt;String&gt;();
   ...
}
</code></pre>

<pre><code>public class WhenCook&lt;SELF extends WhenCook&gt; extends Stage&lt;SELF&gt; {
   @ExpectedScenarioState
   List&lt;String&gt; ingredients = new ArrayList&lt;String&gt;();

   @ExpectedScenarioState
   String cook;

   @ProvidedScenarioState
   String meal;
   ...

   public WhenCook the_cook_mangles_everthing_to_a_dough() {
       meal = cook.makeADough( ingredients );
   }

}
</code></pre>

<p>Instead of the @ScenarioState annotation one can also use @ExpectedScenarioState and @ProvidedScenarioState to indicate whether the state is
expected by the stage or provided by the stage.</p>

<h2>
<a name="parameters" class="anchor" href="#parameters"><span class="octicon octicon-link"></span></a>Parameters</h2>

<p>Method parameters are by default added to the end of the sentence as shown in the example above.</p>

<h3>
<a name="parameters-within-a-sentence" class="anchor" href="#parameters-within-a-sentence"><span class="octicon octicon-link"></span></a>Parameters within a sentence</h3>

<p>Take the following example:</p>

<pre><code>Given &lt;neggs&gt; eggs
</code></pre>

<p>This cannot be written directly as a single method name because parameters can only come at the end of the method.
JGiven solves this problem by using the $ character as follows:</p>

<pre><code>given().$_eggs(neggs);
</code></pre>

<p>This is not perfectly readable at first glance, but as soon as you are used to reading $ as a parameter it comes quite natural.
The generated report will replace the $ with the corresponding parameter.
So the generated report will look as follows (given  was 5):</p>

<pre><code>Given 5 eggs
</code></pre>

<h1>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h1>

<p>JGiven is published under the Apache License 2.0, see
<a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a> for details.</p>

<h1>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h1>

<h2>
<a name="maven" class="anchor" href="#maven"><span class="octicon octicon-link"></span></a>Maven</h2>

<p>Add the following dependency to your POM file:</p>

<pre><code>&lt;dependency&gt;
   &lt;groupId&gt;com.tngtech.jgiven&lt;/groupId&gt;
   &lt;artifactId&gt;jgiven-junit&lt;/artifactId&gt;
   &lt;version&gt;0.1.7&lt;/version&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>

<p>for TestNG instead of JUnit use:</p>

<pre><code>&lt;dependency&gt;
   &lt;groupId&gt;com.tngtech.jgiven&lt;/groupId&gt;
   &lt;artifactId&gt;jgiven-testng&lt;/artifactId&gt;
   &lt;version&gt;0.1.7&lt;/version&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/TNG">TNG</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>